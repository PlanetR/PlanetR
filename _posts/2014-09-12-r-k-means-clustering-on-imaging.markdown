---
title: "R: k-Means Clustering on Imaging"
kind: article
created_at: 2014-09-12 03:08:00 UTC
author: Alstatr
categories: 
tags: 
layout: post
---
<div dir="ltr" style="text-align: left;" trbidi="on">Enough with the theory we recently published, let's take a break and have fun on the application of Statistics used in Data Mining and Machine Learning, the <i>k</i>-Means Clustering.<br /><blockquote class="tr_bq"><i><a href="http://en.wikipedia.org/wiki/K-means_clustering" target="_blank">k-means clustering</a></i> is a method of <a href="http://en.wikipedia.org/wiki/Vector_quantization" target="_blank">vector quantization</a>, originally from signal processing, that is popular for cluster analysis in data mining. <i>k</i>-means clustering aims to partition <i>n</i> observations into <i>k</i> clusters in which each observation belongs to the cluster with the nearest mean, serving as a prototype of the cluster. (Wikipedia, Ref 1.) </blockquote>We will apply this method to an image, wherein we group the pixels into <i>k</i> different clusters. Below is the image that we are going to use, <br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://2.bp.blogspot.com/-d47GF28COio/VBI3EMlHenI/AAAAAAAAB5U/DoHJ5n6jYwE/s1600/ColorfulBird.jpg" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" src="http://2.bp.blogspot.com/-d47GF28COio/VBI3EMlHenI/AAAAAAAAB5U/DoHJ5n6jYwE/s1600/ColorfulBird.jpg" height="263" width="400" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Colorful Bird From <a href="http://www.wall321.com/Animals/Birds/colorful_birds_tropical_head_3888x2558_wallpaper_6566" target="_blank">Wall321</a></td></tr></tbody></table>We will utilize the following packages for input and output: <br /><ol><li><b><a href="http://cran.r-project.org/package=jpeg" target="_blank">jpeg</a></b> - Read and write JPEG images; and,</li><li><b><a href="http://cran.r-project.org/package=ggplot2" target="_blank">ggplot2</a></b> - An implementation of the Grammar of Graphics.</li></ol><a name='more'></a><h3>Download and Read the Image</h3>Let's get started by downloading the image to our workspace, and tell R that our data is a JPEG file.<br /><br /><script src="https://gist.github.com/alstat/1fe9287c70625f74b0ef.js"></script><h3>Cleaning the Data</h3>Extract the necessary information from the image and organize this for our computation:<br /><br /><script src="https://gist.github.com/alstat/542baaa83523f949adb4.js"></script>The image is represented by large array of pixels with dimension <i>rows</i> by <i>columns</i> by <i>channels</i> -- red, green, and blue or RGB. <br /><br /><h3>Plotting</h3>Plot the original image using the following codes:<br /><br /><script src="https://gist.github.com/alstat/9d4f7f19152dabe9e89d.js"></script><div class="separator" style="clear: both; text-align: center;"><img border="0" src="http://1.bp.blogspot.com/-kztQY4Omtg8/VBJIbqFFfxI/AAAAAAAAB6M/J-Xr5O3XALg/s1600/Bird.png" /></div><h3>Clustering</h3>Apply <i>k</i>-Means clustering on the image:<br /><br /><script src="https://gist.github.com/alstat/39330b3992c51380143f.js"></script>Plot the clustered colours:<br /><br /><script src="https://gist.github.com/alstat/57584dc6e72dc7a0875c.js"></script><div class="separator" style="clear: both; text-align: center;"><img border="0" src="http://1.bp.blogspot.com/--ct4IQOF1fU/VBJJRrYdUxI/AAAAAAAAB6U/T5bzMEcESzE/s1600/Bird2.png" /></div>Possible clusters of pixels on different <i>k</i>-Means: <br /><br/><div class="datagrid"><table><thead><tr><th>Original</th><th><i>k</i> = 6</th></tr></thead><tfoot><tr><td colspan="3" style="text-align: center;"><div id="paging"><i>Table 1: Different <i>k</i>-Means Clustering.</i></div></td></tr></tfoot><tbody><tr><td><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-kztQY4Omtg8/VBJIbqFFfxI/AAAAAAAAB6Q/AAehssdRlsc/s1600/Bird.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://2.bp.blogspot.com/-kztQY4Omtg8/VBJIbqFFfxI/AAAAAAAAB6Q/AAehssdRlsc/s1600/Bird.png" height="140" width="200" /></a></div></td><td><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-0BNc914HY8g/VBJM0FklmmI/AAAAAAAAB6g/W_9xlhv0ZUM/s1600/Bird3.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://2.bp.blogspot.com/-0BNc914HY8g/VBJM0FklmmI/AAAAAAAAB6g/W_9xlhv0ZUM/s1600/Bird3.png" height="140" width="200" /></a></div></td></tr><tr></tr></tbody><thead><tr><th><i>k</i> = 5</th><th><i>k</i> = 4</th></tr></thead><tbody><tr><td><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-FvQWy4OU_eY/VBJOGiXg3VI/AAAAAAAAB6o/dfRzyuL7jTo/s1600/Bird4.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://1.bp.blogspot.com/-FvQWy4OU_eY/VBJOGiXg3VI/AAAAAAAAB6o/dfRzyuL7jTo/s1600/Bird4.png" height="140" width="200" /></a></div></td><td><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-zrsbqoPsHXI/VBJO3fXLMbI/AAAAAAAAB6w/A_NrJXAN9LY/s1600/Bird5.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://2.bp.blogspot.com/-zrsbqoPsHXI/VBJO3fXLMbI/AAAAAAAAB6w/A_NrJXAN9LY/s1600/Bird5.png" height="140" width="200" /></a></div></td></tr></tbody><thead><tr><th><i>k</i> = 3</th><th><i>k</i> = 2</th></tr></thead><tbody><tr><td><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/--ct4IQOF1fU/VBJJRrYdUxI/AAAAAAAAB6Y/_xlcjiQmaKw/s1600/Bird2.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://4.bp.blogspot.com/--ct4IQOF1fU/VBJJRrYdUxI/AAAAAAAAB6Y/_xlcjiQmaKw/s1600/Bird2.png" height="140" width="200" /></a></div></td><td><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-7aqhqTqWo70/VBJRDZcaK8I/AAAAAAAAB68/GHg-e8aELu0/s1600/Bird6.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://2.bp.blogspot.com/-7aqhqTqWo70/VBJRDZcaK8I/AAAAAAAAB68/GHg-e8aELu0/s1600/Bird6.png" height="140" width="200" /></a></div></td></tr></tbody></table></div><br/>I suggest you try it! <br /><br /><h3>Reference</h3><ol><li><a href="http://en.wikipedia.org/wiki/k-means_clustering" target="_blank">K-means clustering</a>. <i><a href="http://en.wikipedia.org/wiki/Main_Page" target="_blank">Wikipedia</a></i>. Retrieved September 11, 2014.</li></ol></div><div class="author">
  <img src="" style="width: 96px; height: 96;">
  <span style="position: absolute; padding: 32px 15px;">
    <i>Original post by <a href="http://twitter.com/">Alstatr</a> - check out <a href="http://alstatr.blogspot.com/">Analysis with Programming</a></i>
  </span>
</div>
